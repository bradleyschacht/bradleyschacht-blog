---
title: "Check Mount Points and Disk Free Space with PowerShell"
date: "2011-08-11"
categories: 
  - "powershell"
  - "windows"
---

Those who know me will know that this post is a little out of the ordinary... I am posting about PowerShell. I have done one previously about [Backing up and restoring site collection in SharePoint](https://bradleyschacht.com/backup-and-restore-sharepoint-2010-site-collection-with-powershell/ "Backup and Restore Site Collections with PowerShell"), so believe me I will admit that it has its place.  Well I was onsite with a client today and found another use for PowerShell: checking the size of and free space on mount points on an HP appliance.  This method will work with any machine, but this specifically happen to be on a server using mount points.  The script isn't exactly friendly to remember, but that's what you have that little bookmark button at the top of the browser for.  :) Mount points are specialized NTFS file system objects used to provide entry into another volume.  In this particular case the fast track hardware from HP used mount points to connect to the storage for a combined total of over 24 TB.  I didn't want to leave that amount of storage or the 200GB of memory behind, but it had to happen.   Anyway, you can't just right click on the mount point (which just shows up as a shortcut on the file system) and go to properties to see the amount of storage available.  Nor can you open My Computer and right click and do that for the C: drive because it will show you just the C drive, not all the mount points.  The following PowerShell script to the rescue.  It will display the storage total size and amount of free space in bytes, so you have to do a little conversion to get it into a useful number for you. `gwmi win32_volume|where-object {$_.filesystem -match “ntfs”}|ft name,capacity,freespace` The output will look something like this: ![](https://images.bradleyschacht.com/wp-content/uploads/2011/08/PowerShellDriveSpace.png)
